"use strict";(self.webpackChunkflasher=self.webpackChunkflasher||[]).push([[104],{104:(t,s,a)=>{a.r(s),a.d(s,{default:()=>e});class e{static CHIP_NAME="ESP32";static IMAGE_CHIP_ID=0;static EFUSE_RD_REG_BASE=1073061888;static DR_REG_SYSCON_BASE=1073111040;static UART_CLKDIV_REG=1072955412;static UART_CLKDIV_MASK=1048575;static UART_DATE_REG_ADDR=1610612856;static XTAL_CLK_DIVIDER=1;static FLASH_WRITE_SIZE=1024;static BOOTLOADER_FLASH_OFFSET=4096;static FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64};static SPI_REG_BASE=1072963584;static SPI_USR_OFFS=28;static SPI_USR1_OFFS=32;static SPI_USR2_OFFS=36;static SPI_W0_OFFS=128;static SPI_MOSI_DLEN_OFFS=40;static SPI_MISO_DLEN_OFFS=44;static TEXT_START=1074520064;static ENTRY=1074521496;static DATA_START=1073605544;static ROM_DATA="CMD8Pw==";static ROM_TEXT="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";static read_efuse=async(t,s)=>{var a=this.EFUSE_RD_REG_BASE+4*s;return console.log("Read efuse "+a),await t.read_reg({addr:a})};static get_pkg_version=async t=>{var s=await this.read_efuse(t,3),a=s>>9&7;return a+=(s>>2&1)<<3};static get_chip_revision=async t=>{var s=await this.read_efuse(t,3),a=await this.read_efuse(t,5),e=await t.read_reg({addr:this.DR_REG_SYSCON_BASE+124});return 0!=(s>>15&1)?0!=(a>>20&1)?0!=(e>>31&1)?3:2:1:0};static get_chip_description=async t=>{var s=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"],a="",e=await this.get_pkg_version(t),i=await this.get_chip_revision(t),r=3==i;return 0!=(1&await this.read_efuse(t,3))&&(s[0]="ESP32-S0WDQ6",s[1]="ESP32-S0WD"),r&&(s[5]="ESP32-PICO-V3"),a=e>=0&&e<=6?s[e]:"Unknown ESP32",!r||0!==e&&1!==e||(a+="-V3"),a+" (revision "+i+")"};static get_chip_features=async t=>{var s=["Wi-Fi"],a=await this.read_efuse(t,3);(0===(2&a)&&s.push(" BT"),0!==(1&a)?s.push(" Single Core"):s.push(" Dual Core"),0!==(8192&a))&&(0!==(4096&a)?s.push(" 160MHz"):s.push(" 240MHz"));var e=await this.get_pkg_version(t);[2,4,5,6].includes(e)&&s.push(" Embedded Flash"),6===e&&s.push(" Embedded PSRAM"),0!==(await this.read_efuse(t,4)>>8&31)&&s.push(" VRef calibration in efuse"),0!==(a>>14&1)&&s.push(" BLK3 partially reserved");var i=3&await this.read_efuse(t,6);return s.push(" Coding Scheme "+["None","3/4","Repeat (UNSUPPORTED)","Invalid"][i]),s};static get_crystal_freq=async t=>{var s,a=await t.read_reg({addr:this.UART_CLKDIV_REG})&this.UART_CLKDIV_MASK,e=t.transport.baudrate*a/1e6/this.XTAL_CLK_DIVIDER;return s=e>33?40:26,Math.abs(s-e)>1&&t.log("WARNING: Unsupported crystal in use"),s};static _d2h(t){var s=(+t).toString(16);return 1===s.length?"0"+s:s}static read_mac=async t=>{var s=await this.read_efuse(t,1);s>>>=0;var a=await this.read_efuse(t,2);a>>>=0;var e=new Uint8Array(6);return e[0]=a>>8&255,e[1]=255&a,e[2]=s>>24&255,e[3]=s>>16&255,e[4]=s>>8&255,e[5]=255&s,this._d2h(e[0])+":"+this._d2h(e[1])+":"+this._d2h(e[2])+":"+this._d2h(e[3])+":"+this._d2h(e[4])+":"+this._d2h(e[5])};static get_erase_size=function(t,s){return s}}}}]);